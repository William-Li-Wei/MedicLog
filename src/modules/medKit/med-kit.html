<div>
    <md-page-header menu="pageMenu"></md-page-header>

    <div class="page-view">
        <div class="page-container">
            <div class="panel panel-default" ng-if="mode == 'add'">
                <div class="panel-body">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label class="col-xs-4 control-label" style="font-size: x-small;">Medication Name</label>
                            <div class="col-xs-8">
                                <input type="text" class="form-control" ng-model="newPill.name">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-4 control-label" style="font-size: x-small;">Manufacturer</label>
                            <div class="col-xs-8">
                                <input type="text" class="form-control" ng-model="newPill.manufacturer">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-4 control-label" style="font-size: x-small;">Medication Form</label>
                            <div class="col-xs-8">
                                <div class="btn-group full-width">
                                    <button type="button" class="btn btn-default dropdown-toggle full-width"
                                                          data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <span class="pull-left">{{ newPill.form | capitalize }}</span>
                                        <span class="pull-right">
                                            <span class="caret "></span>
                                        </span>
                                    </button>
                                    <ul class="dropdown-menu full-width">
                                        <li ng-class="{ active: newPill.form == form }" ng-repeat="form in medicationForms">
                                            <a ng-click="selectMedicationForm(form)">{{ form | capitalize }}</a>
                                        </li>
                                    </ul>

                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-xs-4 control-label" style="font-size: x-small;">Quantity</label>
                            <div class="col-xs-8">
                                <input type="text" class="form-control" ng-model="newPill.stock">
                            </div>
                        </div>
                    </form>
                </div>
            </div> 

            <ul class="list-group">
                <li class="list-group-item" ng-repeat="pill in medKit.pills">
                    <div class="row vertical-centered">
                        <div class="col-xs-2">
                            <i class="fa fa-minus-circle fa-2x" style="color: #d9534f; cursor: pointer;"
                                ng-click="deletePill($index)" ng-if="mode === 'edit'"></i>
                            <md-pill-icon form="pill.form" ng-if="mode !== 'edit'"></md-pill-icon>
                        </div>
                        <div class="col-xs-8">
                            {{ pill.name }}
                        </div>
                        <div class="col-xs-2" ng-if="pill.form !== 'spray' && pill.form !== 'drops'">
                            <span class="label label-info pull-right">{{ pill.stock }} in stock</span>
                        </div>
                    </div>
                </li>
            </ul>
        </div>

    </div>
</div>
